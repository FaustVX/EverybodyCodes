{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "build",
			"command": "dotnet",
			"type": "shell",
			"args": [
				"build",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary",
				"${workspaceFolder}/EverybodyCodes.Core",
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"reveal": "silent",
				"close": true,
			},
			"problemMatcher": "$msCompile",
			"options": {
				"statusbar": {
					"running": {
						"label": "building"
					}
				}
			}
		},
		{
			"label": "get",
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"${workspaceFolder}/EverybodyCodes.Core",
				"--",
				"get",
				"${input:year}",
				"${input:day}",
				"--session",
				"${input:session}"
			],
			"dependsOn": "build",
			"options": {
				"cwd": "${workspaceFolder}",
				"statusbar": {
					"running": {
						"label": "getting"
					}
				}
			}
		},
		{
			"label": "run",
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"${workspaceFolder}/EverybodyCodes.csproj",
				"--configuration",
				"Release",
				"--",
				"run",
				"${input:year}",
				"${input:day}",
				"${input:part}",
				"--session",
				"${input:session}"
			],
			"dependsOn": "build",
			"options": {
				"cwd": "${workspaceFolder}",
				"statusbar": {
					"running": {
						"label": "running"
					}
				}
			}
		},
		{
			"label": "bench",
			"type": "process",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"${workspaceFolder}/EverybodyCodes.csproj",
				"--configuration",
				"Release",
				"--",
				"bench",
				"${input:year}",
				"${input:day}",
				"--session",
				"${input:session}"
			],
			"dependsOn": "build",
			"options": {
				"cwd": "${workspaceFolder}",
				"statusbar": {
					"running": {
						"label": "benchmarking"
					}
				}
			}
		},
	],
    "inputs": [
        {
            "id": "year",
            "type": "command",
            "command": "memento.promptString",
            "args": {
                "id": "year",
                "description": "Current year (YYYY)"
            }
        },
        {
            "id": "day",
            "type": "command",
            "command": "memento.pickString",
            "args": {
                "id": "day",
                "options": ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25"],
                "description": "Current day"
            }
        },
        {
            "id": "part",
            "type": "command",
            "command": "memento.pickString",
            "args": {
                "id": "part",
                "options": ["1", "2", "3"],
                "description": "Current part"
            }
        },
        {
            "id": "session",
            "type": "command",
            "command": "memento.promptString",
            "args": {
                "id": "session",
                "description": "Session cookie"
            }
        },
    ]
}
